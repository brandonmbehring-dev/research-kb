# Seed Concepts for Causal Inference Knowledge Graph Validation
# Phase 2 Step 9: Expanded Concept Set for Comprehensive Validation
# Master Plan Reference: Lines 616-628, 775
#
# Purpose: Validate Ollama-based concept extraction quality
# Version 2.0: Expanded from 25 to 48 concepts for Step 9
# Created: 2025-12-02
# Updated: 2025-12-02 (Step 9 expansion)

metadata:
  version: "2.0"
  total_concepts: 48
  description: "Comprehensive causal inference concepts for extraction validation"
  expansion_note: "Expanded to 48 concepts in Phase 2 Step 9 for comprehensive testing"
  source_references:
    - "Pearl (2009) Causality: Models, Reasoning and Inference"
    - "Angrist & Pischke (2009) Mostly Harmless Econometrics"
    - "Chernozhukov et al. (2018) Double/Debiased Machine Learning"
    - "Wager & Athey (2018) Estimation and Inference of Heterogeneous Treatment Effects"
    - "Imbens & Rubin (2015) Causal Inference for Statistics, Social, and Biomedical Sciences"
    - "Cunningham (2021) Causal Inference: The Mixtape"

# ============================================================
# METHODS (15 concepts)
# Identification and estimation techniques
# ============================================================
methods:
  - name: "instrumental variables"
    canonical_name: "instrumental variables"
    aliases: ["IV", "IVs", "instrument", "instruments"]
    concept_type: "method"
    category: "identification"
    difficulty: "easy"
    source: "Mostly Harmless Econometrics"
    definition: "Econometric technique using exogenous variables (instruments) to identify causal effects in the presence of endogeneity"
    required_assumptions:
      - "relevance"
      - "exclusion restriction"
      - "exogeneity"
    addresses_problems:
      - "endogeneity"
      - "confounding"
    expected_relationships:
      - {target: "two-stage least squares", type: "USES"}
      - {target: "endogeneity", type: "ADDRESSES"}
      - {target: "relevance", type: "REQUIRES"}
      - {target: "exclusion restriction", type: "REQUIRES"}

  - name: "two-stage least squares"
    canonical_name: "two-stage least squares"
    aliases: ["2SLS", "TSLS"]
    concept_type: "method"
    category: "estimation"
    difficulty: "easy"
    source: "Mostly Harmless Econometrics"
    definition: "Estimator for instrumental variables models that uses predicted values from first-stage regression"
    related_methods:
      - "instrumental variables"
      - "generalized method of moments"

  - name: "difference-in-differences"
    canonical_name: "difference-in-differences"
    aliases: ["DiD", "DD", "diff-in-diff", "differences-in-differences"]
    concept_type: "method"
    category: "identification"
    difficulty: "easy"
    source: "Mostly Harmless Econometrics"
    definition: "Quasi-experimental method that compares changes in outcomes over time between treatment and control groups"
    required_assumptions:
      - "parallel trends"
    addresses_problems:
      - "confounding"
      - "selection bias"
    expected_relationships:
      - {target: "parallel trends", type: "REQUIRES"}
      - {target: "confounding", type: "ADDRESSES"}

  - name: "propensity score matching"
    canonical_name: "propensity score matching"
    aliases: ["PSM", "propensity matching"]
    concept_type: "method"
    category: "estimation"
    difficulty: "easy"
    source: "Rosenbaum & Rubin (1983)"
    definition: "Method that matches treated and control units based on probability of treatment assignment to reduce selection bias"
    required_assumptions:
      - "unconfoundedness"
      - "positivity"
    addresses_problems:
      - "selection bias"
      - "confounding"
    expected_relationships:
      - {target: "unconfoundedness", type: "REQUIRES"}
      - {target: "selection bias", type: "ADDRESSES"}

  - name: "regression discontinuity design"
    canonical_name: "regression discontinuity design"
    aliases: ["RDD", "RD", "discontinuity design"]
    concept_type: "method"
    category: "identification"
    difficulty: "easy"
    source: "Mostly Harmless Econometrics"
    definition: "Quasi-experimental design that exploits discontinuous treatment assignment as function of running variable"
    required_assumptions:
      - "continuity"
    addresses_problems:
      - "selection bias"

  - name: "matching"
    canonical_name: "matching"
    aliases: ["covariate matching"]
    concept_type: "method"
    category: "estimation"
    difficulty: "easy"
    source: "Mostly Harmless Econometrics"
    definition: "Method to create comparable treatment and control groups by matching on observed covariates"
    required_assumptions:
      - "unconfoundedness"
    addresses_problems:
      - "selection bias"
      - "confounding"

  - name: "regression adjustment"
    canonical_name: "regression adjustment"
    aliases: ["regression", "OLS adjustment", "covariate adjustment"]
    concept_type: "method"
    category: "estimation"
    difficulty: "easy"
    source: "Mostly Harmless Econometrics"
    definition: "Method that controls for confounders by including them as covariates in regression"
    required_assumptions:
      - "unconfoundedness"
    addresses_problems:
      - "confounding"

  - name: "synthetic control method"
    canonical_name: "synthetic control method"
    aliases: ["SCM", "synthetic control"]
    concept_type: "method"
    category: "estimation"
    difficulty: "medium"
    source: "Abadie & Gardeazabal (2003)"
    definition: "Method that constructs synthetic counterfactual as weighted combination of untreated units"
    addresses_problems:
      - "selection bias"

  - name: "double machine learning"
    canonical_name: "double machine learning"
    aliases: ["DML", "double/debiased machine learning"]
    concept_type: "method"
    category: "estimation"
    difficulty: "medium"
    source: "Chernozhukov et al. (2018)"
    definition: "Framework that uses machine learning for nuisance parameters with orthogonalization to identify treatment effects"
    required_assumptions:
      - "negligible bias"
    addresses_problems:
      - "confounding"

  - name: "causal forests"
    canonical_name: "causal forests"
    aliases: ["CF", "causal forest"]
    concept_type: "method"
    category: "estimation"
    difficulty: "medium"
    source: "Wager & Athey (2018)"
    definition: "Random forest extension for estimating heterogeneous treatment effects using honest splitting"
    addresses_problems:
      - "treatment effect heterogeneity"

  - name: "generalized method of moments"
    canonical_name: "generalized method of moments"
    aliases: ["GMM"]
    concept_type: "method"
    category: "estimation"
    difficulty: "medium"
    source: "Hansen (1982)"
    definition: "Econometric method that estimates parameters by exploiting moment conditions without specifying full distribution"
    related_methods:
      - "instrumental variables"
      - "two-stage least squares"

  - name: "inverse probability weighting"
    canonical_name: "inverse probability weighting"
    aliases: ["IPW", "inverse propensity weighting"]
    concept_type: "method"
    category: "estimation"
    difficulty: "medium"
    source: "Horvitz & Thompson (1952)"
    definition: "Method that reweights observations by inverse of treatment probability to create pseudo-population"
    required_assumptions:
      - "unconfoundedness"
      - "positivity"
    addresses_problems:
      - "confounding"
      - "selection bias"

  - name: "doubly robust estimation"
    canonical_name: "doubly robust estimation"
    aliases: ["doubly robust", "DR estimation"]
    concept_type: "method"
    category: "estimation"
    difficulty: "medium"
    source: "Bang & Robins (2005)"
    definition: "Estimation method that combines outcome regression and propensity score modeling for robustness"
    required_assumptions:
      - "unconfoundedness"
    addresses_problems:
      - "model misspecification"

  - name: "regression kink design"
    canonical_name: "regression kink design"
    aliases: ["RKD", "kink design"]
    concept_type: "method"
    category: "identification"
    difficulty: "medium"
    source: "Card et al. (2015)"
    definition: "Quasi-experimental design exploiting kinks in treatment assignment rule"
    addresses_problems:
      - "selection bias"

  - name: "bounds analysis"
    canonical_name: "bounds analysis"
    aliases: ["partial identification", "Manski bounds"]
    concept_type: "method"
    category: "identification"
    difficulty: "hard"
    source: "Manski (1990)"
    definition: "Identification approach that derives bounds on treatment effects without untestable assumptions"
    addresses_problems:
      - "weak identification"

# ============================================================
# ASSUMPTIONS (10 concepts)
# Identification assumptions required by methods
# ============================================================
assumptions:
  - name: "unconfoundedness"
    canonical_name: "unconfoundedness"
    aliases: ["conditional independence assumption", "CIA", "no unmeasured confounding", "ignorability", "selection on observables"]
    concept_type: "assumption"
    category: "identification"
    difficulty: "easy"
    source: "Rosenbaum & Rubin (1983)"
    definition: "Potential outcomes are independent of treatment assignment conditional on observed covariates"
    is_testable: false
    required_by_methods:
      - "propensity score matching"
      - "matching"
      - "regression adjustment"

  - name: "stable unit treatment value assumption"
    canonical_name: "stable unit treatment value assumption"
    aliases: ["SUTVA", "no interference", "no spillovers"]
    concept_type: "assumption"
    category: "identification"
    difficulty: "easy"
    source: "Rubin (1980)"
    definition: "Treatment assignment of one unit does not affect potential outcomes of other units and there are no hidden versions of treatment"
    is_testable: false

  - name: "parallel trends"
    canonical_name: "parallel trends"
    aliases: ["parallel trends assumption", "common trends"]
    concept_type: "assumption"
    category: "identification"
    difficulty: "easy"
    source: "Mostly Harmless Econometrics"
    definition: "Treatment and control groups would follow same trend in outcomes absent treatment"
    is_testable: true
    common_tests:
      - "pre-treatment trend test"
      - "placebo test"
    required_by_methods:
      - "difference-in-differences"

  - name: "relevance"
    canonical_name: "relevance"
    aliases: ["instrument relevance", "first stage strength"]
    concept_type: "assumption"
    category: "identification"
    difficulty: "easy"
    source: "Mostly Harmless Econometrics"
    definition: "Instrument must be correlated with endogenous treatment variable"
    is_testable: true
    common_tests:
      - "F-statistic"
      - "first stage regression"
    required_by_methods:
      - "instrumental variables"

  - name: "exclusion restriction"
    canonical_name: "exclusion restriction"
    aliases: ["instrument exogeneity", "exclusion"]
    concept_type: "assumption"
    category: "identification"
    difficulty: "medium"
    source: "Mostly Harmless Econometrics"
    definition: "Instrument affects outcome only through its effect on treatment variable"
    is_testable: false
    required_by_methods:
      - "instrumental variables"

  - name: "exogeneity"
    canonical_name: "exogeneity"
    aliases: ["strict exogeneity", "instrument exogeneity"]
    concept_type: "assumption"
    category: "identification"
    difficulty: "medium"
    source: "Mostly Harmless Econometrics"
    definition: "Treatment variable is uncorrelated with error term in all time periods"
    is_testable: false
    required_by_methods:
      - "instrumental variables"

  - name: "positivity"
    canonical_name: "positivity"
    aliases: ["common support", "overlap", "probability bounds"]
    concept_type: "assumption"
    category: "identification"
    difficulty: "medium"
    source: "Rosenbaum & Rubin (1983)"
    definition: "All units have positive probability of receiving each treatment level conditional on covariates"
    is_testable: true
    common_tests:
      - "propensity score overlap plots"
    required_by_methods:
      - "propensity score matching"

  - name: "monotonicity"
    canonical_name: "monotonicity"
    aliases: ["monotone treatment response", "no defiers"]
    concept_type: "assumption"
    category: "identification"
    difficulty: "medium"
    source: "Imbens & Angrist (1994)"
    definition: "Instrument weakly increases treatment probability for all units (no defiers)"
    is_testable: false
    required_by_methods:
      - "instrumental variables"

  - name: "continuity"
    canonical_name: "continuity"
    aliases: ["continuity at cutoff", "smoothness"]
    concept_type: "assumption"
    category: "identification"
    difficulty: "medium"
    source: "Lee & Lemieux (2010)"
    definition: "Potential outcomes are continuous functions of running variable at treatment cutoff"
    is_testable: true
    common_tests:
      - "density test (McCrary)"
      - "covariate balance test"
    required_by_methods:
      - "regression discontinuity design"

  - name: "no anticipation"
    canonical_name: "no anticipation"
    aliases: ["no anticipatory effects"]
    concept_type: "assumption"
    category: "identification"
    difficulty: "medium"
    source: "Malani & Reif (2015)"
    definition: "Units do not change behavior in anticipation of future treatment"
    is_testable: true
    common_tests:
      - "pre-treatment period analysis"
      - "event study"
    required_by_methods:
      - "difference-in-differences"

# ============================================================
# PROBLEMS (6 concepts)
# Identification challenges that methods address
# ============================================================
problems:
  - name: "endogeneity"
    canonical_name: "endogeneity"
    aliases: ["endogenous variable", "endogenous treatment"]
    concept_type: "problem"
    category: "identification"
    difficulty: "easy"
    source: "Mostly Harmless Econometrics"
    definition: "Treatment variable is correlated with error term, violating exogeneity assumption"
    addressed_by_methods:
      - "instrumental variables"
      - "difference-in-differences"

  - name: "confounding"
    canonical_name: "confounding"
    aliases: ["confounding bias", "confounders", "omitted variable bias"]
    concept_type: "problem"
    category: "identification"
    difficulty: "easy"
    source: "Pearl (2009)"
    definition: "Association between treatment and outcome is due to common causes rather than causal effect"
    addressed_by_methods:
      - "matching"
      - "regression adjustment"
      - "propensity score matching"
      - "instrumental variables"
      - "difference-in-differences"

  - name: "selection bias"
    canonical_name: "selection bias"
    aliases: ["sample selection", "self-selection"]
    concept_type: "problem"
    category: "identification"
    difficulty: "easy"
    source: "Mostly Harmless Econometrics"
    definition: "Systematic differences between treatment and control groups before treatment assignment"
    addressed_by_methods:
      - "matching"
      - "propensity score matching"
      - "regression discontinuity design"
      - "synthetic control method"

  - name: "measurement error"
    canonical_name: "measurement error"
    aliases: ["measurement bias", "misclassification"]
    concept_type: "problem"
    category: "identification"
    difficulty: "medium"
    source: "Mostly Harmless Econometrics"
    definition: "Imperfect observation of variables introduces noise and systematic bias in estimates"

  - name: "attrition"
    canonical_name: "attrition"
    aliases: ["sample attrition", "non-random attrition", "differential attrition"]
    concept_type: "problem"
    category: "identification"
    difficulty: "medium"
    source: "Imbens & Rubin (2015)"
    definition: "Non-random loss of observations over time that can bias treatment effect estimates"
    addressed_by_methods:
      - "inverse probability weighting"
      - "bounds analysis"

  - name: "treatment effect heterogeneity"
    canonical_name: "treatment effect heterogeneity"
    aliases: ["effect heterogeneity", "HTE", "heterogeneous effects"]
    concept_type: "problem"
    category: "estimation"
    difficulty: "medium"
    source: "Wager & Athey (2018)"
    definition: "Treatment effects vary across individuals or subgroups"
    addressed_by_methods:
      - "causal forests"
      - "double machine learning"

# ============================================================
# DEFINITIONS (7 concepts)
# Estimands and key concepts
# ============================================================
definitions:
  - name: "average treatment effect"
    canonical_name: "average treatment effect"
    aliases: ["ATE"]
    concept_type: "definition"
    difficulty: "easy"
    source: "Rubin (1974)"
    definition: "Expected difference in potential outcomes between treatment and control for entire population"

  - name: "average treatment effect on the treated"
    canonical_name: "average treatment effect on the treated"
    aliases: ["ATT", "treatment effect on the treated", "TOT"]
    concept_type: "definition"
    difficulty: "easy"
    source: "Rubin (1974)"
    definition: "Expected treatment effect for units that actually received treatment"

  - name: "local average treatment effect"
    canonical_name: "local average treatment effect"
    aliases: ["LATE", "complier average causal effect", "CACE"]
    concept_type: "definition"
    difficulty: "medium"
    source: "Imbens & Angrist (1994)"
    definition: "Average treatment effect for compliers whose treatment status is affected by instrumental variable"

  - name: "conditional average treatment effect"
    canonical_name: "conditional average treatment effect"
    aliases: ["CATE", "heterogeneous treatment effect", "HTE"]
    concept_type: "definition"
    difficulty: "medium"
    source: "Athey & Imbens (2016)"
    definition: "Average treatment effect conditional on specific covariate values, capturing treatment effect heterogeneity"

  - name: "intent-to-treat effect"
    canonical_name: "intent-to-treat effect"
    aliases: ["ITT", "intention to treat"]
    concept_type: "definition"
    difficulty: "easy"
    source: "Angrist & Pischke (2009)"
    definition: "Effect of treatment assignment regardless of actual treatment received"

  - name: "treatment on the untreated"
    canonical_name: "treatment on the untreated"
    aliases: ["TUT", "ATU"]
    concept_type: "definition"
    difficulty: "medium"
    source: "Heckman & Vytlacil (2005)"
    definition: "Expected treatment effect for units that did not receive treatment"

  - name: "marginal treatment effect"
    canonical_name: "marginal treatment effect"
    aliases: ["MTE"]
    concept_type: "definition"
    difficulty: "hard"
    source: "Heckman & Vytlacil (2005)"
    definition: "Treatment effect for individuals at margin of treatment selection, indexed by unobserved resistance to treatment"

# ============================================================
# THEOREMS (10 concepts)
# Formal results and mathematical foundations
# ============================================================
theorems:
  - name: "Frisch-Waugh-Lovell theorem"
    canonical_name: "frisch-waugh-lovell theorem"
    aliases: ["FWL theorem", "partitioned regression"]
    concept_type: "theorem"
    difficulty: "medium"
    source: "Frisch & Waugh (1933)"
    definition: "Coefficients from multiple regression equal coefficients from regressing residualized outcome on residualized treatment"

  - name: "Gauss-Markov theorem"
    canonical_name: "gauss-markov theorem"
    aliases: ["BLUE theorem"]
    concept_type: "theorem"
    difficulty: "medium"
    source: "Gauss (1821)"
    definition: "Under classical assumptions, OLS is best linear unbiased estimator"

  - name: "central limit theorem"
    canonical_name: "central limit theorem"
    aliases: ["CLT"]
    concept_type: "theorem"
    difficulty: "easy"
    source: "Lindeberg (1922)"
    definition: "Sample means converge in distribution to normal distribution under regularity conditions"

  - name: "law of large numbers"
    canonical_name: "law of large numbers"
    aliases: ["LLN", "weak LLN", "strong LLN"]
    concept_type: "theorem"
    difficulty: "easy"
    source: "Kolmogorov (1933)"
    definition: "Sample average converges in probability to population expectation"

  - name: "Slutsky theorem"
    canonical_name: "slutsky theorem"
    aliases: ["Slutsky's theorem"]
    concept_type: "theorem"
    difficulty: "medium"
    source: "Slutsky (1925)"
    definition: "Convergence in distribution preserved under continuous transformations and combining with convergent sequences"

  - name: "continuous mapping theorem"
    canonical_name: "continuous mapping theorem"
    aliases: ["CMT"]
    concept_type: "theorem"
    difficulty: "medium"
    source: "Mann & Wald (1943)"
    definition: "Convergence in distribution preserved under continuous functions"

  - name: "delta method"
    canonical_name: "delta method"
    aliases: ["delta theorem"]
    concept_type: "theorem"
    difficulty: "medium"
    source: "Dorfman (1938)"
    definition: "Asymptotic distribution of function of estimator obtained via Taylor expansion"

  - name: "identification at infinity"
    canonical_name: "identification at infinity"
    aliases: []
    concept_type: "theorem"
    difficulty: "hard"
    source: "Chamberlain (1986)"
    definition: "Identification achieved through behavior of functions at extreme covariate values"

  - name: "rank condition"
    canonical_name: "rank condition"
    aliases: ["order condition"]
    concept_type: "theorem"
    difficulty: "medium"
    source: "Fisher (1966)"
    definition: "Necessary and sufficient condition for identification in simultaneous equations models"

  - name: "Bayes theorem"
    canonical_name: "bayes theorem"
    aliases: ["Bayes' theorem", "Bayes rule"]
    concept_type: "theorem"
    difficulty: "easy"
    source: "Bayes (1763)"
    definition: "Relationship between conditional and marginal probabilities for updating beliefs"

# ============================================================
# RELATIONSHIPS (28 total)
# Expected edges for validation
# ============================================================
relationships:
  # Method → Assumption (REQUIRES)
  - source: "instrumental variables"
    target: "relevance"
    type: "REQUIRES"

  - source: "instrumental variables"
    target: "exclusion restriction"
    type: "REQUIRES"

  - source: "instrumental variables"
    target: "exogeneity"
    type: "REQUIRES"

  - source: "difference-in-differences"
    target: "parallel trends"
    type: "REQUIRES"

  - source: "propensity score matching"
    target: "unconfoundedness"
    type: "REQUIRES"

  - source: "propensity score matching"
    target: "positivity"
    type: "REQUIRES"

  - source: "matching"
    target: "unconfoundedness"
    type: "REQUIRES"

  - source: "regression adjustment"
    target: "unconfoundedness"
    type: "REQUIRES"

  # Method → Problem (ADDRESSES)
  - source: "instrumental variables"
    target: "endogeneity"
    type: "ADDRESSES"

  - source: "instrumental variables"
    target: "confounding"
    type: "ADDRESSES"

  - source: "difference-in-differences"
    target: "confounding"
    type: "ADDRESSES"

  - source: "difference-in-differences"
    target: "selection bias"
    type: "ADDRESSES"

  - source: "propensity score matching"
    target: "selection bias"
    type: "ADDRESSES"

  - source: "matching"
    target: "confounding"
    type: "ADDRESSES"

  # Method → Method (USES)
  - source: "instrumental variables"
    target: "two-stage least squares"
    type: "USES"

  # Method → Method (EXTENDS)
  - source: "double machine learning"
    target: "matching"
    type: "EXTENDS"

  - source: "causal forests"
    target: "matching"
    type: "EXTENDS"

  # Method → Method (ALTERNATIVE_TO)
  - source: "propensity score matching"
    target: "regression adjustment"
    type: "ALTERNATIVE_TO"

  # New relationships for expanded concepts
  - source: "inverse probability weighting"
    target: "unconfoundedness"
    type: "REQUIRES"

  - source: "inverse probability weighting"
    target: "positivity"
    type: "REQUIRES"

  - source: "doubly robust estimation"
    target: "unconfoundedness"
    type: "REQUIRES"

  - source: "instrumental variables"
    target: "monotonicity"
    type: "REQUIRES"

  - source: "regression discontinuity design"
    target: "continuity"
    type: "REQUIRES"

  - source: "difference-in-differences"
    target: "no anticipation"
    type: "REQUIRES"

  - source: "inverse probability weighting"
    target: "attrition"
    type: "ADDRESSES"

  - source: "causal forests"
    target: "treatment effect heterogeneity"
    type: "ADDRESSES"

  - source: "double machine learning"
    target: "treatment effect heterogeneity"
    type: "ADDRESSES"

# ============================================================
# VALIDATION METRICS
# Success thresholds for Step 9
# ============================================================
metrics:
  recall_targets:
    overall: 0.80           # 80% of seed concepts found (38+/48)
    by_type:
      method: 0.85          # 13/15 methods
      assumption: 0.80      # 8/10 assumptions
      problem: 0.80         # 5/6 problems
      definition: 0.75      # 5-6/7 definitions
      theorem: 0.60         # 6/10 theorems (harder to extract)
    by_difficulty:
      easy: 0.90            # 90% of easy concepts
      medium: 0.75          # 75% of medium concepts
      hard: 0.60            # 60% of hard concepts

  precision_targets:
    overall: 0.75           # 75% of extracted concepts are valid

  relationship_targets:
    recall: 0.60            # 60% of expected relationships found (17+/28)
                            # (Lower due to limited extraction chunks processed)

  notes:
    - "Expanded to 48 concepts in Phase 2 Step 9 for comprehensive testing"
    - "Theorems have lower target recall (harder to extract from text)"
    - "Relationship validation may have lower coverage due to sparse extraction"
    - "Framework designed to generalize beyond causal inference domain"
